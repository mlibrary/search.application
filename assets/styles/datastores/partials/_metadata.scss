@use './metadata/format';
@use './metadata/academic_discipline';
@use '../../utilities';
@use '../../media';
@use '../../typography';

// --------------------------------------------------
//
// # Metadata
//   Styles to apply directly to `views/datastores/partials/_metadata.erb`.
//
// ## Table of Contents
//   1. Variables
//   2. Tbody
//     2.1. Paired Fields
//     2.2. Browse Fields
//
// --------------------------------------------------

// ******************** //
// *** 1. VARIABLES *** //
// ******************** //

$class: ".metadata";





// **************** //
// *** 2. TBODY *** //
// **************** //

#{$class} tbody tr {
  @include utilities.flex($align: start, $responsive: true);
  & {
    gap: 0;
    & + tr {
      border-top: 0.5rem solid transparent; // Space between rows because we can't use margin or padding
    }
  }
  @include media.breakpoint($breakpoint: xs) {
    display: table-row;
    th {
      padding-right: 1rem;
      width: 11rem;
    }
  }
}



// *                   * //
// * 2.1 PAIRED FIELDS * //
// *                   * //

#{$class} tbody ul.paired-fields:has(> li > ul) > li + li {
  margin-top: 0.5rem;
}



// *                   * //
// * 2.2 BROWSE FIELDS * //
// *                   * //

#{$class} tbody ul.browse-fields li {
  .browse-field__link {
    display: block;
    @include media.breakpoint($breakpoint: xs) {
      display: initial;
      padding-left: 0.25rem;
    }
    &,
    & > * {
      color: var(--search-color-grey-600);
      font-size: typography.$size-small;
    }
    &:before {
      border-left: 1px solid var(--color-neutral-300);
      content: '';
      display: inline-block;
      height: 1em;
      margin-right: 0.25rem;
      position: relative;
      top: 0.125rem;
      width: 0;
    }
  }
}



// *            * //
// * 2.3 TOGGLE * //
// *            * //

#{$class} #{$class}__toggle {
  display: block;
  body.no-javascript & {
    display: none;
  }
}
